<div class="stats-container">
  <div class="card">
    <div class="card-header">
      <h2>Statistiques des abonnements</h2>
    </div>
    <div class="card-body">
      <!-- Message de chargement -->
      <div *ngIf="isLoading" class="loading-container">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Chargement...</span>
        </div>
        <p>Chargement des statistiques...</p>
      </div>

      <!-- Message d'erreur -->
      <div *ngIf="errorMessage && !isLoading" class="error-container">
        <div class="alert alert-danger" role="alert">
          {{ errorMessage }}
        </div>
        <button class="btn btn-primary" (click)="loadStats()">
          <i class="fas fa-sync-alt"></i> Réessayer
        </button>
      </div>

      <!-- Graphique -->
      <div *ngIf="!isLoading && !errorMessage" class="chart-container">
        <canvas baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [type]="barChartType">
        </canvas>
      </div>

      <div class="mt-4">
        <div class="row">
          <div class="col-md-4">
            <div class="card bg-light">
              <div class="card-body">
                <h6 class="card-title">
                  <i class="bi bi-info-circle me-2"></i>
                  Informations
                </h6>
                <p class="card-text small text-muted">
                  Ce graphique montre l'évolution du nombre d'utilisateurs par type de pack au fil des mois.
                  Les données sont mises à jour automatiquement.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>