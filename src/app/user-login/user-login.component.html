<div class="row w-100 mx-0 mt-7 auth-page">
  <div class="col-md-8 col-xl-6 mx-auto">
    <div class="card">
      <div class="container" id="container">

        <!-- Formulaire d'inscription -->
        <div class="form-container sign-up-container">
          <form class="forms-sample" (submit)="onRegister($event)" [formGroup]="validationForm">
            <h1 class="mb-3">Inscription</h1>

            <div class="mb-3">
              <input type="text" class="form-control" placeholder="Nom"
                formControlName="lastName" [(ngModel)]="user.nom"
                [ngClass]="{'is-invalid': isFormSubmitted && form.lastName.errors}" />
            </div>
            <div class="mb-3">
              <input type="text" class="form-control" placeholder="Prénom"
                formControlName="firstName" [(ngModel)]="user.prenom"
                [ngClass]="{'is-invalid': isFormSubmitted && form.firstName.errors}" />
            </div>
            <div class="mb-3">
              <input type="email" class="form-control" placeholder="Email"
                formControlName="email" [(ngModel)]="user.email"
                [ngClass]="{'is-invalid': isFormSubmitted && form.email.errors}" />
            </div>
            <div *ngIf="emailExistsError" class="text-danger mb-3">{{ emailExistsError }}</div>
            <div class="mb-3">
              <input type="password" class="form-control" placeholder="Mot de passe"
                formControlName="password"
                [ngClass]="{'is-invalid': isFormSubmitted && form.password.errors}" />
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="isFormValid">S'inscrire</button>
          </form>
        </div>

        <!-- Formulaire de connexion -->
        <div class="form-container sign-in-container">
          <form>
            <h1>Se Connecter</h1>
            <div class="auth-form-wrapper py-5">
              <div class="mb-3">
                <input type="email" class="form-control" [(ngModel)]="signInEmail"
                  name="signInEmail" placeholder="Adresse E-mail" />
              </div>
              <div class="mb-3">
                <input type="password" class="form-control" [(ngModel)]="signInPassword"
                  name="signInPassword" placeholder="Mot de passe" />
              </div>

              <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="authCheck" />
                <label class="form-check-label" for="authCheck">Souvenez-vous de moi</label>
              </div>

              <div *ngIf="alert" class="text-danger mb-3">{{ alert }}</div>

              <button type="submit" class="btn btn-primary me-2 mb-2 mb-md-0" (click)="login()">Se connecter</button>

              <!-- ✅ Lien mot de passe oublié -->
              <div class="mt-3">
                <a routerLink="/mot-de-passe-oublie" class="text-decoration-none text-primary">
                  Mot de passe oublié ?
                </a>
              </div>
            </div>
          </form>
        </div>

        <!-- Panneau d'animation -->
        <div class="overlay-container">
          <div class="overlay">
            <div class="overlay-panel overlay-left">
              <a routerLink="/" class="d-block mb-2"><i class="fas fa-home text-danger"></i></a>
              <h1>Bienvenue de retour !</h1>
              <p>Connectez-vous avec vos infos</p>
              <button class="ghost" id="signIn">Se Connecter</button>
            </div>
            <div class="overlay-panel overlay-right">
              <a routerLink="/" class="d-block mb-2"><i class="fas fa-home text-danger"></i></a>
              <h1>Bienvenue chez nous !</h1>
              <p>Entrez vos informations pour commencer</p>
              <button class="ghost" id="signUp">S'inscrire</button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
